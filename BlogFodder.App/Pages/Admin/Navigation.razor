@page "/admin/navigation"
@layout AdminLayout
@using BlogFodder.Core.Backoffice.Models
@using BlogFodder.Core
@implements BlogFodder.Core.Plugins.Interfaces.IBackOfficeNavigationItem


<PageTitle>Admin - Navigation</PageTitle>
@*@if (Errors.Length > 0)
{
    <MudAlert Severity="Severity.Error" Class="my-2">
        @foreach (var error in Errors)
        {
            <MudText>@error</MudText>
        }
    </MudAlert>
}
<MudForm Model="@PostCommand" @ref="@Form" @bind-Errors="@Errors" Validation="@(CommandValidator.ValidateValue)" ValidationDelay="0">

    <MudTabs Outlined="true" Position="Position.Top" Rounded="true" Border="true" KeepPanelsAlive="true" ApplyEffectsToContainer="true" PanelClass="pa-6">

        <MudTabPanel Text="Header">
            <MudGrid>
                <MudItem xs="12">
                    <MudTextField Lines="5" Label="Preview Text" Variant="Variant.Outlined" Margin="Margin.Dense"
                                  HelperText="Max. 3000 characters" @bind-Value="PostCommand.Post.Excerpt" For="@(() => PostCommand.Post.Excerpt)"/>
                </MudItem>
            </MudGrid>

        </MudTabPanel>

        <MudTabPanel Text="Footer">

        </MudTabPanel>
        
    </MudTabs>
    
    <MudItem xs="12" Class="d-flex justify-center">
        <MudButton Variant="Variant.Filled" OnClick="@(async () => await SubmitForm())" DisableElevation="true" Color="Color.Primary" Size="Size.Large" Class="mt-8">Save</MudButton>
    </MudItem>
</MudForm>*@

@code {
    public Link Link { get; set; } = new()
    {
        Text = "Navigation",
        Route = "/admin/navigation",
        SortOrder = 2,
        Section = Constants.BackOffice.NavigationSectionCore
    };
}